services:
  - type: web
    name: story-keeper-backend
    env: java
    buildCommand: mvn clean package -DskipTests
    startCommand: java -jar target/story-keeper-backend-1.0.0-SNAPSHOT.jar
    envVars:
      - key: SPRING_PROFILES_ACTIVE
        value: prod
      - key: JAVA_OPTS
        value: -Xmx512m -Xms256m
      # CORS Configuration (optional - defaults include localhost and *.vercel.app)
      # Uncomment and set if you need additional origins:
      # - key: CORS_ALLOWED_ORIGINS
      #   value: https://your-frontend-domain.com,https://another-domain.com
    healthCheckPath: /api/health
