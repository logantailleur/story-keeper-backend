spring:
  application:
    name: story-keeper-backend
  
  # Database Configuration
  # Set DB_PROVIDER environment variable to switch providers:
  # - postgresql (default) - PostgreSQL database
  # - h2 - H2 in-memory database (useful for quick local testing)
  # 
  # Database connection can be configured via:
  # - DATABASE_URL (full connection string)
  # - Individual variables: DB_HOST, DB_PORT, DB_NAME, DB_USERNAME, DB_PASSWORD
  # 
  # Note: Hibernate dialect is automatically configured based on DB_PROVIDER.
  
  jpa:
    # database-platform is set dynamically based on DB_PROVIDER via JpaConfig
    hibernate:
      ddl-auto: none  # Disable automatic schema creation for local development
    show-sql: true  # Log SQL queries for debugging
    properties:
      hibernate:
        format_sql: true  # Format SQL queries for better readability
        jdbc:
          lob:
            non_contextual_creation: true

# Logging Configuration
logging:
  level:
    root: INFO
    com.app: DEBUG
    org.hibernate.SQL: DEBUG  # Log all SQL statements
    org.hibernate.type.descriptor.sql.BasicBinder: TRACE  # Log SQL parameter values
