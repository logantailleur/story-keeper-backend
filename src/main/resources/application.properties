# Server Configuration
# Use PORT environment variable (required for Render), fallback to 8080 for local dev
server.port=${PORT:8080}

# Application Configuration
spring.application.name=story-keeper-backend

# Database Configuration
# The application creates the DataSource programmatically:
# 1) If `spring.datasource.url` is set, it will be used (good for tests/overrides)
# 2) Else if `DATABASE_URL` is set (Render/Heroku style: postgres://user:pass@host:port/db),
#    it will be converted into a JDBC URL
# 3) Else it falls back to `DB_HOST`, `DB_PORT`, `DB_NAME`, `DB_USERNAME`, `DB_PASSWORD`

# JPA/Hibernate Configuration
# Safe default - use 'update' only in dev profile
spring.jpa.hibernate.ddl-auto=validate
# Disabled by default - enable in dev profile
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Logging Configuration (production-safe defaults)
# Use DEBUG only in dev profile
logging.level.root=INFO
logging.level.com.app=INFO
