# Server Configuration
# Use PORT environment variable (required for Render), fallback to 8080 for local dev
server.port=${PORT:8080}

# Application Configuration
spring.application.name=story-keeper-backend

# Database Configuration (PostgreSQL)
# Supports two configuration methods:
# 1. DATABASE_URL (full connection string, e.g., from Render)
#    Format: postgresql://user:password@host:port/database
# 2. Individual environment variables:
#    DB_HOST, DB_PORT, DB_NAME, DB_USERNAME, DB_PASSWORD
# 
# Note: DataSource is configured programmatically in AppConfig.java
# to handle both formats automatically.

# JPA/Hibernate Configuration
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.hibernate.ddl-auto=validate  # Safe default - use 'update' only in dev profile
spring.jpa.show-sql=false  # Disabled by default - enable in dev profile
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.jdbc.lob.non_contextual_creation=true

# Logging Configuration (production-safe defaults)
logging.level.root=INFO
logging.level.com.storykeeper=INFO  # Use DEBUG only in dev profile
